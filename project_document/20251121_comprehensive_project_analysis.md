# 2025 APMCM Problem C 项目综合分析报告

**报告生成时间**: 2025-11-21 14:55  
**项目位置**: d:\Mathematical Modeling\2025APMCM\SPEC

---

## 一、项目概述摘要

本项目为2025年亚太地区数学建模竞赛C题解决方案，聚焦美国"互惠关税"政策对全球贸易和区域经济的影响分析。项目已构建了覆盖大豆贸易（Q1）、汽车产业（Q2）、半导体（Q3）、关税收入（Q4）和宏观经济影响（Q5）的完整建模框架。代码架构清晰，文档体系完备，宏观金融数据质量高，但部分关键数据（特别是Q1中国大豆进口和Q2品牌级销量）仍需补充官方来源以支撑严格的实证分析。

---

## 二、数据清单和状态

### 2.1 数据文件总览表

| 问题 | 文件路径 | 行数 | 列数 | 时间范围 | 数据质量等级 | 完整性评分 |
|------|----------|------|------|----------|--------------|------------|
| **Q1** | q1/q1_0.csv | 90 | 6 | 2015-2024 | 样本数据 | 6/10 |
| Q1 | q1/q1_1.csv | 120 | 7 | 2015-2024 | 样本数据 | 5/10 |
| **Q2** | q2/q2_0_japan_brand_sales.csv | 120 | 7 | 2015-2024 | 样本数据 | 4/10 |
| Q2 | q2/q2_0_us_auto_sales_by_brand.csv | 120 | 7 | 2015-2024 | 样本数据 | 4/10 |
| Q2 | q2/q2_1_industry_indicators.csv | 10 | 4 | 2015-2024 | 样本数据 | 5/10 |
| **Q3** | q3/q3_output_by_segment.csv | 15 | 4 | 2020-2024 | 样本数据 | 5/10 |
| Q3 | q3/q3_policies.csv | 5 | 3 | 2020-2024 | 样本数据 | 4/10 |
| Q3 | q3/q3_security_metrics.csv | 6 | 9 | 2020-2025 | 混合数据 | 6/10 |
| Q3 | q3/q3_trade_charges.csv | 1368 | 4 | 2020-2025 | USITC官方 | 8/10 |

### 2.2 官方外部数据（FRED来源）

| 指标 | 文件名 | 时间覆盖 | 数据来源 | 质量评分 |
|------|--------|----------|----------|----------|
| 实际GDP | us_real_gdp_official.csv | 2015-2024 | FRED | 9/10 |
| CPI | us_cpi_official.csv | 2015-2024 | FRED | 9/10 |
| 失业率 | us_unemployment_rate_official.csv | 2015-2024 | FRED | 9/10 |
| 工业生产指数 | us_industrial_production_official.csv | 2015-2024 | FRED | 9/10 |
| 联邦基金利率 | us_federal_funds_rate_official.csv | 2015-2024 | FRED | 9/10 |
| 10年期国债收益率 | us_treasury_10y_yield_official.csv | 2015-2024 | FRED | 9/10 |
| S&P500指数 | us_sp500_index_official.csv | 2015-2024 | FRED | 8/10 |
| 轻型车销量 | us_total_light_vehicle_sales_official.csv | 2015-2024 | FRED | 9/10 |
| 半导体产出指数 | us_semiconductor_output_index_official.csv | 2015-2024 | FRED | 9/10 |

### 2.3 数据完整性关键发现

1. **缺失值情况**:
   - Q1-Q2数据: 无缺失值
   - Q3 security_metrics: 2个缺失值（self_sufficiency_pct和china_dependence_pct各1个）
   - 其他文件: 无显著缺失

2. **数据一致性问题**:
   - 所有processed文件中均无重复行
   - 时间序列连续性良好
   - 但部分数据为SAMPLE/模板数据，需要替换为官方数据

3. **与代码匹配度**:
   - 文件路径和列名与代码中的引用完全匹配
   - 数据结构满足模型输入要求
   - 时间范围（2015-2024）符合题目要求

---

## 三、建模方法摘要

### 3.1 Q1 大豆贸易模型 (SoybeanTradeModel)
- **核心方法**: 面板数据回归 + 价格弹性估计
- **技术实现**:
  - OLS回归估计价格弹性: `ln_import_value ~ ln_price_with_tariff + C(exporter)`
  - 市场份额模型: `ln_share_ratio ~ tariff_diff_vs_us + C(exporter)`
- **情景分析**: 基准/互惠关税/完全报复三种场景下的市场份额重构

### 3.2 Q2 汽车产业模型 (AutoTradeModel)
- **核心方法**: 进口结构分析 + 产业传导模型
- **技术实现**:
  - 进口份额趋势: `ln_import_share ~ year + C(partner_country)`
  - 产业影响: `us_auto_production ~ import_penetration + us_gdp_billions + fuel_price_index`
- **情景分析**: 日本品牌产能转移策略（无应对/部分转移/激进本地化）

### 3.3 Q3 半导体模型 (SemiconductorModel)
- **核心方法**: 分段分析（高/中/低端）+ 效率-安全权衡
- **技术实现**:
  - 贸易响应: `ln_import_charges ~ year + C(partner_country)`
  - 产出响应: `ln_output ~ subsidy_index + export_control_china + global_demand`
- **安全指标**: 自给率、对华依赖度、供应风险指数
- **政策组合**: 关税/补贴/出口管制的效率-安全比率评估

### 3.4 Q4 关税收入模型 (TariffRevenueModel)
- **核心方法**: 静态拉弗曲线 + 动态进口响应
- **技术实现**:
  - 静态模型: `ln_revenue ~ avg_tariff + avg_tariff_sq`
  - 动态调整: 短期/中期弹性与调整速度参数化
- **预测**: 第二任期（2025-2029）关税收入路径模拟

### 3.5 Q5 宏观经济模型 (MacroFinanceModel)
- **核心方法**: VAR/SVAR + 事件研究
- **技术实现**:
  - 多元回归: GDP增长、工业产出与制造业回流指标
  - VAR模型: 关税冲击的脉冲响应函数（IRFs）
  - 事件研究: 关键政策年份的结构性变化识别
- **反制分析**: 贸易伙伴报复措施的宏观传导效应

---

## 四、代码实现状态

### 4.1 核心模块完成度

| 模块 | 文件 | 功能 | 完成状态 | 备注 |
|------|------|------|----------|------|
| **主入口** | main.py | 统一运行Q1-Q5分析 | ✅ 完成 | 支持选择性运行 |
| **Q1模型** | models/q1_soybeans.py | 大豆贸易分析 | ✅ 完成 | 需官方数据支撑 |
| **Q2模型** | models/q2_autos.py | 汽车产业分析 | ✅ 完成 | 品牌数据待补充 |
| **Q3模型** | models/q3_semiconductors.py | 半导体分析 | ✅ 完成 | 分段数据需优化 |
| **Q4模型** | models/q4_tariff_revenue.py | 关税收入分析 | ⚠️ 部分完成 | 缺历史有效税率 |
| **Q5模型** | models/q5_macro_finance.py | 宏观影响分析 | ✅ 完成 | 核心数据完备 |

### 4.2 工具模块状态

| 工具类 | 功能描述 | 完成度 | 关键问题 |
|--------|----------|--------|----------|
| TariffDataLoader | USITC数据加载与转换 | 90% | import_value字段待补充 |
| HSMapper | HS码到产品分类映射 | 100% | 运行良好 |
| external_data | 生成样本数据模板 | 80% | 未实现官方数据优先逻辑 |
| data_fetch | FRED/UN Comtrade API | 70% | Comtrade经常失败 |
| data_consolidate | 宏观数据整合 | 100% | 已生成consolidated文件 |
| worldbank_wits | World Bank数据获取 | 60% | 需重新抓取并清洗 |

### 4.3 代码质量评估

**优势**:
- 模块化设计清晰，各问题独立封装
- 异常处理完善，日志记录充分
- 支持缺失数据时的降级处理
- 文档字符串完整

**待改进**:
- 部分硬编码路径需要配置化
- 缺少单元测试覆盖
- 数据验证逻辑可以更严格
- 需要增加数据血缘追踪

---

## 五、一致性评估

### 5.1 数据-文档一致性 (8/10)
- 文档中详细记录了数据需求和获取计划
- 数据质量报告与实际文件状态相符
- 但部分候选数据的来源说明不够详细

### 5.2 文档-代码一致性 (9/10)
- 建模方法文档与代码实现高度一致
- API设计与文档描述完全匹配
- 情景设置与代码中的实现相符

### 5.3 数据-代码一致性 (7/10)
- 代码期望的数据结构已全部满足
- 但大量使用SAMPLE数据影响实证可信度
- external_data的官方数据优先逻辑未完全实现

---

## 六、差距分析和建议

### 6.1 缺失元素优先级列表

| 优先级 | 缺失项 | 影响范围 | 建议行动 |
|--------|--------|----------|----------|
| **P0** | Q1中国大豆进口官方数据 | Q1核心结论 | 确认WITS候选数据或重新获取GACC数据 |
| **P0** | Q4历史有效关税率计算 | Q4拉弗曲线 | 从USITC原始数据生成tariff_indices_official.csv |
| **P1** | Q2日本品牌销量数据 | Q2市场结构 | 获取至少整体份额的半官方数据 |
| **P1** | Q5反制指数构造方法 | Q5反制分析 | 基于MOFCOM公告量化构造 |
| **P2** | Q5制造业回流官方指标 | Q5回流评估 | 从BLS/BEA获取就业/VA占比 |
| **P2** | Q3分段产出数据 | Q3精细分析 | 参考SIA报告拆分高中低端 |

### 6.2 建模方法增强建议

#### 6.2.1 深度学习与强化学习框架引入

**当前状态**: 项目主要使用传统计量经济学方法（OLS、VAR、面板回归）

**建议增强方向**:

1. **Q1 大豆贸易预测** - 引入LSTM/GRU时间序列预测
   ```python
   # 建议架构
   class SoybeanLSTMPredictor:
       - 输入: 历史价格、关税、产量、汇率时间序列
       - 输出: 未来12个月贸易流量预测
       - 优势: 捕捉非线性动态关系
   ```

2. **Q2 汽车市场动态** - 多智能体强化学习(MARL)
   ```python
   class AutoMarketMARL:
       - Agents: 美国、日本、墨西哥制造商
       - State: 关税、市场份额、产能配置
       - Action: 产能转移、价格调整、技术投资
       - Reward: 利润最大化考虑政策约束
   ```

3. **Q3 半导体供应链** - 图神经网络(GNN)
   ```python
   class ChipSupplyChainGNN:
       - Nodes: 国家/企业节点
       - Edges: 贸易关系、技术依赖
       - 预测: 供应链韧性评分、断链风险
   ```

4. **Q4 关税优化** - 深度强化学习(DRL)
   ```python
   class TariffPolicyDRL:
       - 环境: 多国贸易博弈环境
       - Agent: 美国关税决策者
       - State: 贸易平衡、收入、产业指标
       - Action: 关税率调整
       - Reward: 多目标（收入+产业保护-通胀）
   ```

5. **Q5 宏观预测** - Transformer架构
   ```python
   class MacroTransformer:
       - 输入: 多维宏观时间序列
       - 注意力机制: 捕捉政策事件影响
       - 输出: 条件预测分布
   ```

#### 6.2.2 集成学习框架

```python
class EnsembleFramework:
    models = {
        'traditional': [OLS, VAR, PanelRegression],
        'ml': [RandomForest, XGBoost, LightGBM],
        'deep': [LSTM, Transformer, GNN]
    }
    
    def weighted_prediction(self):
        # 基于历史表现动态调整权重
        # 提供预测区间和不确定性量化
```

### 6.3 技术栈升级建议

| 当前技术 | 建议升级 | 应用场景 | 预期收益 |
|----------|----------|----------|----------|
| statsmodels OLS | PyMC3贝叶斯回归 | Q1-Q5参数估计 | 不确定性量化 |
| 静态VAR | 时变参数VAR | Q5宏观分析 | 捕捉结构突变 |
| 手动情景设置 | 蒙特卡洛模拟 | Q1-Q5情景分析 | 概率分布输出 |
| 单一预测 | 集成预测 | 所有预测任务 | 提高准确性 |
| 传统优化 | 进化算法 | Q4关税优化 | 全局最优解 |

### 6.4 下一步行动计划

#### 第一阶段（立即执行）
1. ✅ 运行analyze_csv_files.py完成数据审计
2. 从USITC生成Q4官方关税指标
3. 验证Q1 WITS候选数据来源
4. 集成已有FRED数据完成Q5基准分析

#### 第二阶段（24小时内）
1. 实现external_data官方数据优先逻辑
2. 构建Q5反制指数量化方法
3. 获取Q2日本品牌整体数据
4. 完成Q3-Q5官方数据版核心结果

#### 第三阶段（48小时内）
1. 引入至少一个深度学习模型（建议Q1 LSTM）
2. 实现集成预测框架
3. 添加蒙特卡洛不确定性分析
4. 生成完整建模论文初稿

---

## 七、总结与展望

### 7.1 项目成就
- ✅ 完整的五问题建模框架
- ✅ 清晰的代码架构和文档体系
- ✅ 高质量的FRED宏观金融数据
- ✅ 灵活的情景分析能力

### 7.2 核心挑战
- ⚠️ 部分关键数据仍为样本/模板
- ⚠️ 缺少深度学习等先进方法
- ⚠️ 反制措施量化方法待完善
- ⚠️ 实证基础需要加强

### 7.3 竞争优势策略
1. **数据优势**: 优先完成P0级数据补充，确保核心结论可靠
2. **方法创新**: 引入1-2个深度学习模型展示技术前沿
3. **综合分析**: 强化Q5宏观分析，体现政策影响的系统性思考
4. **可视化**: 增强图表展示效果，提升论文可读性

### 7.4 最终建议
**以"Q5宏观金融+Q3半导体安全"为核心主线，Q1/Q2/Q4为支撑分析**，既满足题目对互惠关税综合影响的要求，又在数据可靠性和方法创新性之间取得平衡。通过引入深度学习和强化学习等先进方法，展示团队的技术实力和创新能力。

---

**报告结束**  
生成者：Mathematical Modeling Analysis System  
版本：2025.11.21
